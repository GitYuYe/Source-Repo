---
title: 关于出现php -m和phpinfo不一致的问题
date: 2016-05-03 10:10:00
categories: PHP
tags: PHP
---
昨天有个同事问我，说他的php -m和在apache 中运行phpinfo不一致(这里默认apache是把php编译成模块的)，譬如模块加载不一致。

今天我运行php时候出现了一个问题,php -m和在apache 中运行phpinfo不一致(这里默认apache是把php编译成模块的)，譬如模块加载不一致。

理论上这是不可能的。除非PHP做了特别的设置（此处不表，-c参数即可搞定), 默认情况下,两者都是一致的。

经过一番查找错误，发现并没有特别之处。于是我也纳闷了、抑郁了、纠结了。这也引起了我的“执着心”，我很讨厌在这种问题上还能卡住。于是我告诉自己，今天不找出原因“切腹”。。。。。

然而，经过我一步步调试。终于发现了问题。接下来放出原因，大家可能也会碰到

1、我执行的是php -m .并不是类似 /usr/local/php/bin/php -m 这说明PHP存在于某个环境变量路径里。

2、也就是恰恰上面这个原因给忽略了。我一直始终认环境变量是正确的。

3、我重新编译PHP。问题依旧。

4、最后，我执行了 which php .这时发现它的PHP在 /usr/bin 里面。

5、也就是说不管怎么编译PHP，最终执行的php -m 的那个PHP可执行程序 永远是定位在 /usr/bin里面的那个老PHP

6、我也忘了怎么操作使之 /usr/bin里也有个PHP

7、解决方法如下：删掉 /usr/bin里面的那个老PHP 。把环境变量 设置到/usr/local/php/bin里。

8、再次执行 php -m 一切正常了。